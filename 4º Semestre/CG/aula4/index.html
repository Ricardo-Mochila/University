<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type='text/javascript' src='/x3dom-1.7.2/x3dom-full.js'></script>
    <script src="/three.js-master/build/three.js"></script>
    <script src="/three.js-master/examples/js/controls/OrbitControls.js"></script>
    <link rel='stylesheet' type='text/css' href='/x3dom-1.7.2/x3dom.css' />
</head>

    
    <h1>My first X3D page Yaiii</h1> 
    <x3d width='400px' height='400px'> 
        <scene>
            <background skyColor="0.2 0.6 1">
               
            </background>
                   
            <indexedfaceset id= "piramid" coordIndex = "
            0 2 1 0-1
            0 1 4 0-1
            4 1 3 4-1
            2 3 1 2-1
            0 4 3 2 0 -1 
            "
            texCoordIndex="
             0  4  1    -1
             1  5   2  -1
             2  6  3   -1
             8  7   9  -1
             9  1   2   10  -1">

            <coordinate point = "
            1.0 0.0 1.0
            0.0 1.5 0.0
            1.0 0.0 -1.0
            -1.0 0.0 -1.0
            -1.0 0.0 1.0">
            </coordinate>
            
            <TextureCoordinate point="
                                0.00 0.50
                                0.33 0.50
                                0.66 0.50
                                1.00 0.50
                                0.16 0.00
                                0.49 0.00
                                0.82 0.00
                                0.16  0.50
                                0.00 1.00
                                0.33 1.00
                                0.66 1.00">
            </TextureCoordinate>
            </indexedfaceset>

            
            <shape>
                <appearance>
                    <commonSurfaceShader>
                           <imageTexture containerField="diffuseTexture" url="11484674-khafre-pyramid-wall-texture-at-sunny-day.jpg">
                        </imageTexture>
                    <twosidedmaterial diffuseColor="yellow"></twosidedmaterial>  
                </commonSurfaceShader>
                </appearance>
                <x3dgeometrynode use="piramid"></x3dgeometrynode>
            </shape>

        </scene>  
        </x3d>
        
        
		<script>
		function init(mesh) {
            //
            //  Document
            //
            renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setClearColor("khaki")
            renderer.setSize(200, 200);
            document.body.appendChild(renderer.domElement);
            //
            //  Scene (World, Model)
            //
            scene = new THREE.Scene();
            
            //
            //  Camera (and TrackballControls)
            //
            camera = new THREE.PerspectiveCamera(
                35,       // abertura
                512 / 512,  // proporção largura/altura
                0.1,      // corte perto
                10000     // corte longe
            );
            camera.position.set(-2.5, 0, 20);
            camera.lookAt(scene.position);
            controls = new THREE.OrbitControls(camera);
            //
            //  Lights
            //  
            var ambient_light = new THREE.AmbientLight(0x7F7F7F);
            scene.add(ambient_light);
            //
            var point_light_1 = new THREE.PointLight(0x3F3F3F);
            point_light_1.position.set(5, 0, 0);
            scene.add(point_light_1);
            // //
            var point_light_2 = new THREE.PointLight(0x3F3F3F);
            point_light_2.position.set(-5, 0, 0);
            scene.add(point_light_2);
            //
            //
            //
            scene.add(mesh);
            //
            //  Return camera, scene, etc
            //
            return {
                camera: camera,
                scene: scene,
                renderer: renderer,
                controls: controls
            }
        }
        
        function animate(step) {
            requestAnimationFrame(function () { animate(step); });
            step.controls.update();
            step.renderer.render(step.scene, step.camera);
        }
        
        function model() {
            
            var bow_g = bow_geometry();
            var bow_m = new THREE.MeshLambertMaterial({ color: "crimson" });
            bow_m.side = THREE.DoubleSide;
            var bow = new THREE.Mesh(bow_g, bow_m);
            bow.rotation.y = -Math.PI / 2;
            bow.position.set(0, 2, 0);
            //
           
            //
            var boat = new THREE.Object3D();
            
            boat.add(bow);
            
            boat.rotation.y = Math.PI / 2;
            boat.scale.set(1, 1.5, 1.75);

            return boat;
        }
        
        function bow_geometry() {
            

            var coordinates = [
                new THREE.Vector3(1.0, 0.0, 1.0),
                new THREE.Vector3(0.0, 3.0, 0.0),
                new THREE.Vector3(1.0, 0.0, -1.0),
                new THREE.Vector3( -1.0, 0.0, -1.0),
                new THREE.Vector3(-1.0, 0.0, 1.0),]
            
            var faces = [
                //
                new THREE.Face3(0, 1, 2),
                new THREE.Face3(0, 1, 4),
                new THREE.Face3(4, 1, 3),
                new THREE.Face3(2, 1, 3),
                new THREE.Face3(0,4,3,),
                new THREE.Face3(0,3,2)]
        
            //  Geometry
            //
            var bow = new THREE.Geometry();
            bow.vertices = coordinates;
            bow.faces = faces;
            bow.computeFaceNormals(); // get the right "outside"
            bow.computeBoundingSphere(); // to help the rendering system
            

            return bow;
        }
        
        function main() {
            var step = init(model());
            animate(step);
        }
        main();
		</script>
</body>
</html> 
